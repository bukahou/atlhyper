# ============================================
# AtlHyper 统一配置管理
# ============================================

apiVersion: v1
kind: Namespace
metadata:
  name: atlhyper
  labels:
    app.kubernetes.io/name: atlhyper

---
# ============================================
# ConfigMap - 非敏感配置
# ============================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: atlhyper-config
  namespace: atlhyper
data:
  # === 集群配置 ===
  CLUSTER_ID: "your-cluster-id"

  # === 服务发现 ===
  AGENT_API_BASE_URL: "http://atlhyper-controller:8081"
  AGENT_SVC_NAME: "atlhyper-agent-service"
  NEXT_PUBLIC_API_URL: "https://your-api-domain.com"

  # === Metrics 路径配置 ===
  PROC_ROOT: "/hostproc"
  SYS_ROOT: "/hostsys"
  ROOT_PATH: "/host_root"

  # === 功能开关 ===
  ENABLE_EMAIL_ALERT: "false"
  ENABLE_SLACK_ALERT: "false"
  ENABLE_WEBHOOK_SERVER: "false"

  # === 邮件配置（非敏感） ===
  MAIL_USERNAME: "your-email@example.com"
  MAIL_FROM: "your-email@example.com"
  MAIL_TO: "admin@example.com"

  # === 管理员配置（非敏感） ===
  DEFAULT_ADMIN_USERNAME: "admin"
  DEFAULT_ADMIN_DISPLAY_NAME: "Administrator"
  DEFAULT_ADMIN_EMAIL: "admin@atlhyper.com"

---
# ============================================
# Secret - 敏感信息（请修改为实际值）
# ============================================
apiVersion: v1
kind: Secret
metadata:
  name: atlhyper-secret
  namespace: atlhyper
type: Opaque
stringData:
  # === 管理员密码 ===
  DEFAULT_ADMIN_PASSWORD: "change-me-in-production"

  # === 邮件密码 ===
  MAIL_PASSWORD: "your-app-password"

  # === Slack Webhook ===
  SLACK_WEBHOOK_URL: "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"

  # === JWT 密钥 ===
  JWT_SECRET: "your-jwt-secret-key-change-in-production"
